# =============================================================================
# WEALTH COACH AI - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure with your production values
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_NAME="Wealth Coach AI"
APP_VERSION="1.0.0"
ENVIRONMENT="production"
DEBUG=false
LOG_LEVEL="WARNING"

# Server Configuration
HOST="0.0.0.0"
PORT=8000
WORKERS=4  # Number of Gunicorn workers

# -----------------------------------------------------------------------------
# LLM CONFIGURATION
# -----------------------------------------------------------------------------
# OpenAI API Key (REQUIRED)
OPENAI_API_KEY="your-openai-api-key-here"
OPENAI_MODEL="gpt-3.5-turbo"
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=30

# LLM Cost Controls
MAX_TOKENS_PER_REQUEST=500
MAX_REQUESTS_PER_USER_PER_DAY=100
ENABLE_STREAMING=true

# -----------------------------------------------------------------------------
# VECTOR DATABASE (pgvector - Supabase)
# -----------------------------------------------------------------------------
# Vector database is integrated with PostgreSQL using pgvector extension
# Configure DATABASE_URL below

# Embedding Model
EMBEDDING_MODEL="sentence-transformers/all-MiniLM-L6-v2"
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32
TOKENIZERS_PARALLELISM=false

# RAG Configuration
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_MAX_CONTEXT_LENGTH=2000

# -----------------------------------------------------------------------------
# CACHING (Redis - Upstash Cloud)
# -----------------------------------------------------------------------------
REDIS_URL="your-upstash-redis-url-here"
REDIS_PASSWORD=""
REDIS_MAX_CONNECTIONS=50

# Cache Strategy
CACHE_ENABLED=true
CACHE_TTL=3600
QUERY_CACHE_TTL=7200
EMBEDDING_CACHE_TTL=86400
CACHE_HIT_RATE_TARGET=0.9

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL - Supabase Cloud)
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://user:password@host:5432/database"
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT Settings (CHANGE THESE IN PRODUCTION!)
JWT_SECRET_KEY="CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-MINIMUM-32-CHARACTERS"
JWT_ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
PASSWORD_MIN_LENGTH=8
BCRYPT_ROUNDS=12

# CORS Settings
CORS_ORIGINS='["https://wealthcoach.yourdomain.com","https://www.wealthcoach.yourdomain.com"]'
CORS_ALLOW_CREDENTIALS=true

# API Keys (for mobile app)
API_KEY_HEADER="X-API-Key"
VALID_API_KEYS='["production-api-key-1","production-api-key-2"]'

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=20
RATE_LIMIT_PER_HOUR=200
RATE_LIMIT_PER_DAY=1000

# Per-Endpoint Limits
CHAT_RATE_LIMIT_PER_MINUTE=10
SEARCH_RATE_LIMIT_PER_MINUTE=30

# -----------------------------------------------------------------------------
# WEBSOCKET CONFIGURATION
# -----------------------------------------------------------------------------
WS_ENABLED=true
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS_PER_USER=3
WS_MESSAGE_MAX_SIZE=65536

# -----------------------------------------------------------------------------
# MONITORING & LOGGING
# -----------------------------------------------------------------------------
# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry Error Tracking
SENTRY_DSN=""
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_FORMAT="json"
LOG_FILE="./logs/wealth_coach.log"
LOG_ROTATION="10 MB"
LOG_RETENTION="30 days"

# -----------------------------------------------------------------------------
# FINANCIAL DATA SOURCES
# -----------------------------------------------------------------------------
# Alpha Vantage
ALPHA_VANTAGE_API_KEY=""

# IEX Cloud
IEX_CLOUD_API_KEY=""

# Yahoo Finance
ENABLE_YAHOO_FINANCE=true

# -----------------------------------------------------------------------------
# CONTENT & KNOWLEDGE BASE
# -----------------------------------------------------------------------------
KNOWLEDGE_BASE_PATH="./data/knowledge_base"
AUTO_RELOAD_KNOWLEDGE=false
SUPPORTED_FILE_TYPES='["pdf","md","txt","docx"]'

# Document Processing
MAX_DOCUMENT_SIZE_MB=10
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_USER_REGISTRATION=true
ENABLE_CONVERSATION_HISTORY=true
ENABLE_PERSONALIZATION=true
ENABLE_ANALYTICS=true

# -----------------------------------------------------------------------------
# DEPLOYMENT & INFRASTRUCTURE
# -----------------------------------------------------------------------------
# Nginx Configuration
NGINX_HOST="wealthcoach.yourdomain.com"
NGINX_SSL_CERT_PATH="/etc/letsencrypt/live/yourdomain.com/fullchain.pem"
NGINX_SSL_KEY_PATH="/etc/letsencrypt/live/yourdomain.com/privkey.pem"

# Docker Configuration
DOCKER_NETWORK="wealth_coach_network"
RESTART_POLICY="always"

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=""

# -----------------------------------------------------------------------------
# DEVELOPMENT & TESTING (DISABLED IN PRODUCTION)
# -----------------------------------------------------------------------------
TEST_MODE=false
MOCK_LLM_RESPONSES=false
SEED_DATABASE=false

# API Documentation (DISABLED IN PRODUCTION FOR SECURITY)
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false

# -----------------------------------------------------------------------------
# COMPLIANCE & PRIVACY
# -----------------------------------------------------------------------------
# Data Retention
CONVERSATION_RETENTION_DAYS=90
USER_DATA_RETENTION_DAYS=365

# Privacy Settings
ANONYMIZE_LOGS=true
STORE_IP_ADDRESSES=false
ENABLE_GDPR_COMPLIANCE=true

# Disclaimers
FINANCIAL_DISCLAIMER="This AI assistant provides educational information only and is not a substitute for professional financial advice."

# -----------------------------------------------------------------------------
# MONITORING CREDENTIALS
# -----------------------------------------------------------------------------
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD="your-secure-grafana-password"

# -----------------------------------------------------------------------------
# FRONTEND CONFIGURATION
# -----------------------------------------------------------------------------
VITE_API_URL="https://api.wealthcoach.yourdomain.com"
